version: 1
frontend:
  phases:
    preBuild:
          commands:
            - cd web
            - npm ci
        build:
          commands:
            - npm run build
        - npm ci
  artifacts:
    baseDirectory: web/build
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*

env:
  variables:
    GENERATE_SOURCEMAP: "false"
    TSC_COMPILE_ON_ERROR: "true"